

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Handlers package &mdash; Nestmatics-Backend 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Nestmatics-Backend
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Handlers package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-Handlers.DropStrategyHandler">Handlers.DropStrategyHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.ExperimentsHandler">Handlers.ExperimentsHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.ModelHandler">Handlers.ModelHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.NestsHandler">Handlers.NestsHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.ParentHandler">Handlers.ParentHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.RideStatsHandler">Handlers.RideStatsHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.RidesHandler">Handlers.RidesHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.ServiceAreaHandler">Handlers.ServiceAreaHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers.UsersHandler">Handlers.UsersHandler module</a></li>
<li><a class="reference internal" href="#module-Handlers">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Nestmatics-Backend</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Handlers package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Handlers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="handlers-package">
<h1>Handlers package<a class="headerlink" href="#handlers-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-Handlers.DropStrategyHandler">
<span id="handlers-dropstrategyhandler-module"></span><h2>Handlers.DropStrategyHandler module<a class="headerlink" href="#module-Handlers.DropStrategyHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.DropStrategyHandler.</code><code class="sig-name descname">DropStrategyHandler</code><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.deleteDropStrategy">
<code class="sig-name descname">deleteDropStrategy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dropid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.deleteDropStrategy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.deleteDropStrategyByArea">
<code class="sig-name descname">deleteDropStrategyByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.deleteDropStrategyByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.editDropStrategy">
<code class="sig-name descname">editDropStrategy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dropid</span></em>, <em class="sig-param"><span class="n">dayNum</span></em>, <em class="sig-param"><span class="n">config</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.editDropStrategy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyForArea">
<code class="sig-name descname">getDropStrategyForArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyForArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyForDate">
<code class="sig-name descname">getDropStrategyForDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">start_date</span></em>, <em class="sig-param"><span class="n">end_date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyForDate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyFromId">
<code class="sig-name descname">getDropStrategyFromId</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dropid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.getDropStrategyFromId" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.getMostRecentDropStrategy">
<code class="sig-name descname">getMostRecentDropStrategy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.getMostRecentDropStrategy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.insertDropStrategy">
<code class="sig-name descname">insertDropStrategy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">drop_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.insertDropStrategy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.DropStrategyHandler.DropStrategyHandler.setSAHandler">
<code class="sig-name descname">setSAHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">serviceAreaHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.DropStrategyHandler.DropStrategyHandler.setSAHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.ExperimentsHandler">
<span id="handlers-experimentshandler-module"></span><h2>Handlers.ExperimentsHandler module<a class="headerlink" href="#module-Handlers.ExperimentsHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.ExperimentsHandler.</code><code class="sig-name descname">ExperimentsHandler</code><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.deleteExperimentByID">
<code class="sig-name descname">deleteExperimentByID</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.deleteExperimentByID" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete experiment
:param experimentid: ID of experiment to delete
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.deleteExperimentByNestConfig">
<code class="sig-name descname">deleteExperimentByNestConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestConfig</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.deleteExperimentByNestConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes experiments that have the specified nestconfig ID
:param nestConfig: ID of nest configurations to delete
:return:
If there were experiments for provided nestconfig id, it will return the number of experiments</p>
<blockquote>
<div><p>deleted</p>
</div></blockquote>
<p>If there were no experiments that meet the criteria, return error dictionary with error information</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.editExperiment">
<code class="sig-name descname">editExperiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentid</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.editExperiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Edit an experiments name
:param experimentid: Id of the experiment to modify
:param name: name of experiment to update
:return:
response with status code 200: if request was valid, will return the amount of experiments edited
response with status code 400: if id does not follow correct format, will issue a json with a error information
response with status code 404: experiment for id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.getConfigCalculationsForReport">
<code class="sig-name descname">getConfigCalculationsForReport</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.getConfigCalculationsForReport" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentFromID">
<code class="sig-name descname">getExperimentFromID</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentFromID" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an experiment that belongs to a specified ID
:param nestid: ID of nest configuration to find
:return:
response with status code 200: if request was valid, will return rseponse with Nthe experiment</p>
<blockquote>
<div><p>that belongs to the specified ID</p>
</div></blockquote>
<p>response with status code 400: if id does not follow correct format, will issue a json with a error information
response with status code 404: no experiment for id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentsForArea">
<code class="sig-name descname">getExperimentsForArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">user_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentsForArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Get experiments from a specified area id
:param areaid: ID of area fromwhich to retrieve experiments
:param user_id: ID of user that has those nests
:return:
response with status code 200: if request was valid, will return rseponse with the experiment</p>
<blockquote>
<div><p>that belongs to the specified area ID</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if id does not follow correct format, will issue a json with a error</dt><dd><p>information</p>
</dd>
</dl>
<p>response with status code 404:  experiments on area or no user for ids provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentsOfNest">
<code class="sig-name descname">getExperimentsOfNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.getExperimentsOfNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Get experiments from a specified nest id
:param nestid: ID of nest from which to retrieve experiments
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.getReportForExperiment">
<code class="sig-name descname">getReportForExperiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.getReportForExperiment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.insertExperiment">
<code class="sig-name descname">insertExperiment</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experiment_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.insertExperiment" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert an experiment in the database. Will validate JSON parameter corresponding to the
request body of the API route /nestmatics/experiment. Validation will make sure request.json has the required
keys and also that the value of keys are of the correct type. If values are not expected, if keys are missing,
if there is already an experiment with those same parameters, a 4xx client error will
be issued. If request is accepted, the json parameter with the new nest information will be inserted
in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nestConfig_json</strong> – json containing the experiment to be inserted into the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of newly inserted document</p>
</dd>
</dl>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ExperimentsHandler.ExperimentsHandler.setNestHandler">
<code class="sig-name descname">setNestHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ExperimentsHandler.ExperimentsHandler.setNestHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.ModelHandler">
<span id="handlers-modelhandler-module"></span><h2>Handlers.ModelHandler module<a class="headerlink" href="#module-Handlers.ModelHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.ModelHandler.ModelHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.ModelHandler.</code><code class="sig-name descname">ModelHandler</code><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.deleteModelByArea">
<code class="sig-name descname">deleteModelByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.deleteModelByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.deletePredictionByArea">
<code class="sig-name descname">deletePredictionByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.deletePredictionByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.editPrediction">
<code class="sig-name descname">editPrediction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predictionid</span></em>, <em class="sig-param"><span class="n">prediction</span></em>, <em class="sig-param"><span class="n">features</span></em>, <em class="sig-param"><span class="n">error_metric</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.editPrediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getModelForID">
<code class="sig-name descname">getModelForID</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">modelid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getModelForID" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a specfic model identified by provided ID
:param modelid: ID for model to retrieve
:return:
response with status code 200: if request was valid, will return rseponse with model identified by</p>
<blockquote>
<div><p>provided ID</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if id does not follow correct format, will issue a json with a error</dt><dd><p>information</p>
</dd>
</dl>
<p>response with status code 404: model for specified id for model
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getModelsForArea">
<code class="sig-name descname">getModelsForArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getModelsForArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all models on a specified area
:param areaid: ID of area that identified models to retrieve
:return:
response with status code 200: if request was valid, will return rseponse with models for a</p>
<blockquote>
<div><p>specific area</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if id does not follow correct format, will issue a json with a error</dt><dd><p>information</p>
</dd>
</dl>
<p>response with status code 404: no models for area id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getMostRecentModel">
<code class="sig-name descname">getMostRecentModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getMostRecentModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets most recent model from DB
:param areaid: ID of area from which to retrieve most recent model
:return:
response with status code 200: if request was valid, will return rseponse with most recently</p>
<blockquote>
<div><p>created model in area (which should be the default model for the current predictions)</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if id does not follow correct format, will issue a json with a error</dt><dd><p>information</p>
</dd>
</dl>
<p>response with status code 404: no models for area id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getPrediction">
<code class="sig-name descname">getPrediction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getPrediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getPredictionErrorMetrics">
<code class="sig-name descname">getPredictionErrorMetrics</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getPredictionErrorMetrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getPredictionFeatures">
<code class="sig-name descname">getPredictionFeatures</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getPredictionFeatures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.getPredictionForDate">
<code class="sig-name descname">getPredictionForDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.getPredictionForDate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.insertModel">
<code class="sig-name descname">insertModel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">model_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.insertModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert a model information in the database. Will validate JSON parameter corresponding to the
request body of the API route /nestmatics/ml. Validation will make sure request.json has the required
keys and also that the value of keys are of the correct type. If values are not expected, if keys are missing,
if there is already a model with that same model path, a 4xx client error will
be issued. If request is accepted, the json parameter with the new nest information will be inserted
in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>model_json</strong> – json containing the experiment to be inserted into the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of newly inserted document</p>
</dd>
</dl>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.insertPrediction">
<code class="sig-name descname">insertPrediction</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">predict_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.insertPrediction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ModelHandler.ModelHandler.verifyPredictionExistsForArea">
<code class="sig-name descname">verifyPredictionExistsForArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ModelHandler.ModelHandler.verifyPredictionExistsForArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.NestsHandler">
<span id="handlers-nestshandler-module"></span><h2>Handlers.NestsHandler module<a class="headerlink" href="#module-Handlers.NestsHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.NestsHandler.NestsHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.NestsHandler.</code><code class="sig-name descname">NestsHandler</code><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.calculateNestConfigurationStats">
<code class="sig-name descname">calculateNestConfigurationStats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rides</span></em>, <em class="sig-param"><span class="n">nest</span></em>, <em class="sig-param"><span class="n">nestConfig</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.calculateNestConfigurationStats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.deleteNestByArea">
<code class="sig-name descname">deleteNestByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.deleteNestByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.deleteNestByID">
<code class="sig-name descname">deleteNestByID</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.deleteNestByID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.deleteNestConfiguration">
<code class="sig-name descname">deleteNestConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.deleteNestConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a specified Nest configuration
:param nestconfigId: ID of Nest to delete
:return:
response with status code 200: if request was valid, will return response with number of entries deleted
response with status code 400: if id does not follow correct format or quantity is not a number,</p>
<blockquote>
<div><p>will issue a json with a error information</p>
</div></blockquote>
<p>response with status code 404: no nest configurations for nest id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.deleteNestsByUserID">
<code class="sig-name descname">deleteNestsByUserID</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">userid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.deleteNestsByUserID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.editNest">
<code class="sig-name descname">editNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em>, <em class="sig-param"><span class="n">nestName</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.editNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Function To edit a Nest’s name
:param nestid: Id of nest to edit
:param nestName: name to update nest with</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</div></blockquote>
<dl class="simple">
<dt>response with status code 200: if request was valid, will return rseponse with Nests names on specified service</dt><dd><p>area</p>
</dd>
<dt>response with status code 400: if area id or user id does not follow correct format, will issue an</dt><dd><p>error json with a error information. Also, If nest is empty.</p>
</dd>
</dl>
<p>response with status code 404: no nests with that id.
response with status code 304: no nests were modified
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.editNestConfiguration">
<code class="sig-name descname">editNestConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em>, <em class="sig-param"><span class="n">vehicleqty</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.editNestConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Edits Nest configuration
:param nestconfigid: ID of nest configuration to update
:param vehicleqty: vehicle qty to update
:return:
response with status code 200: if request was valid, will return response with number of entries modified
response with status code 400: if id does not follow correct format or quantity is not a number,</p>
<blockquote>
<div><p>will issue a json with a error information</p>
</div></blockquote>
<p>response with status code 404: no nest configurations for nest id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.findNest">
<code class="sig-name descname">findNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nest_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.findNest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestByArea">
<code class="sig-name descname">getNestByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sa_id</span></em>, <em class="sig-param"><span class="n">user_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestById">
<code class="sig-name descname">getNestById</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nest_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestById" title="Permalink to this definition">¶</a></dt>
<dd><p>Get A specific Nest
:param nest_id: ID of Nest to look for
:return:
response with status code 200: if request was valid, will return rseponse with Nest identified by provided ID
response with status code 400: if area id or user id does not follow correct format, will issue an</p>
<blockquote>
<div><p>error json with error information</p>
</div></blockquote>
<p>response with status code 404: if nest is not found
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestConfig">
<code class="sig-name descname">getNestConfig</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestConfig" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestConfigurationFromId">
<code class="sig-name descname">getNestConfigurationFromId</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestConfigurationFromId" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets Nest congifuration that belong to a specified ID
:param nestid: ID of nest configuration to find
:return:
response with status code 200: if request was valid, will return rseponse with Nest configurations</p>
<blockquote>
<div><p>belonging to the specified ID</p>
</div></blockquote>
<p>response with status code 400: if id does not follow correct format, will issue a json with a error information
response with status code 404: no nest configurations for nest id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestConfigurationStatsForADay">
<code class="sig-name descname">getNestConfigurationStatsForADay</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestConfigurationStatsForADay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestConfigurationsForNest">
<code class="sig-name descname">getNestConfigurationsForNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestConfigurationsForNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets Nest congifurations that belong to a specified Nest
:param nestid: ID of nest that nest configurations belong to
:return:
response with status code 200: if request was valid, will return rseponse with Nest configurations</p>
<blockquote>
<div><p>belonging to the specified ID</p>
</div></blockquote>
<p>response with status code 400: if id does not follow correct format, will issue a json with a error information
response with status code 404: no nest configurations for nest id provided
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestNames">
<code class="sig-name descname">getNestNames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">user_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all nests names on the specified service area
:param areaid: ID of service area to get nests from
:param user_id: ID of user that owns the nests
:return:
response with status code 200: if request was valid, will return rseponse with Nests names on specified service</p>
<blockquote>
<div><p>area</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if area id or user id does not follow correct format, will issue an</dt><dd><p>error json with a error information</p>
</dd>
<dt>response with status code 404: no nests with that service area id or user id. ALso if user or service aera</dt><dd><p>dont exists</p>
</dd>
</dl>
<p>response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestStatsForTimeInterval">
<code class="sig-name descname">getNestStatsForTimeInterval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestconfigid</span></em>, <em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">start_time</span></em>, <em class="sig-param"><span class="n">end_time</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestStatsForTimeInterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets Nest Configuration Statistics for a specific date and time interval. Used when it is desired to find
stats for a specified time interval, i.e. see how many vehicles started in that nest for that date and time.
:param nestconfigid: id of nestconfiguration from which to view rides that ocurred on that nest
:param date: date from which to get statistics
:param start_time: lower threshold of time interval to evaluate
:param end_time: upper thresold of time interval to evaluate
:return:</p>
<blockquote>
<div><p>response with status code 200: if request was valid, will return response with stats of nest indicated
for time interval specified. It will have the format:
item = {</p>
<blockquote>
<div><p>“vehicle_qty”: quantity of nestconfig established,
“revenue”: total revenue from all vehicles that started on that area,
“total_rides”: total tides that happened on that area for that time,
“active_vehicles”: active vehicles on that nest,
“rides_started_nest”: ids of rides that started in that area,
“rides_end_nest”: ids of rides that ended in that area</p>
</div></blockquote>
<p>}
response with status code 400: if id does not follow correct format or date / times ara not in correct</p>
<blockquote>
<div><p>format, will issue a json with a error information</p>
</div></blockquote>
<p>response with status code 404: no nest configurations, no nests, no rides or no rides for area found
response with status code 500: if an error happened in the server</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.getNestsByServiceAreaId">
<code class="sig-name descname">getNestsByServiceAreaId</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">user_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.getNestsByServiceAreaId" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets all nests on the specified service area
:param areaid: ID of service area to get nests from
:param user_id: ID of user that owns the nests
:return:
response with status code 200: if request was valid, will return rseponse with Nests on specified service</p>
<blockquote>
<div><p>area</p>
</div></blockquote>
<dl class="simple">
<dt>response with status code 400: if area id or user id does not follow correct format, will issue an</dt><dd><p>error json with a error information</p>
</dd>
</dl>
<p>response with status code 404: if nest is not found
response with status code 500: if an error happened in the server</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.insertNestConfiguration">
<code class="sig-name descname">insertNestConfiguration</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestConfig_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.insertNestConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert a Nest Configuration in the database. Will validate JSON parameter corresponding to the
request body of the API route /nestmatics/nestconfig. Validation will make sure request.json has the required
keys and also that the value of keys are of the correct type. If values are not expected, if keys are missing,
if there is already a nest configuration for that date, a 4xx client error will
be issued. If request is accepted, the json parameter with the new nest information will be inserted
in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nestConfig_json</strong> – json containing the nest information to be inserted into the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of newly inserted nest</p>
</dd>
</dl>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.insertNests">
<code class="sig-name descname">insertNests</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nests_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.insertNests" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert a Nest in the database. Will validate JSON parameter corresponding to the request body of
the API route /nestmatics/nests. Validation will make sure request.json has the required keys and also that
the value of keys are of the correct type. If values are not expected, if keys are missing, if there
is already a nest with that same name and location, a 4xx client error will
be issued. If request is accepted, the json parameter with the new nest information will be inserted
in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nests_json</strong> – json containing the nest information to be inserted into the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of newly inserted nest</p>
</dd>
</dl>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.setExperimentsHandler">
<code class="sig-name descname">setExperimentsHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">experimentsHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.setExperimentsHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.setRidesHandler">
<code class="sig-name descname">setRidesHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rideshandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.setRidesHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.setServiceAreaHandler">
<code class="sig-name descname">setServiceAreaHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">saHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.setServiceAreaHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.setUsersHandler">
<code class="sig-name descname">setUsersHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">usersHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.setUsersHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.NestsHandler.NestsHandler.verifyNestExists">
<code class="sig-name descname">verifyNestExists</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.NestsHandler.NestsHandler.verifyNestExists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.ParentHandler">
<span id="handlers-parenthandler-module"></span><h2>Handlers.ParentHandler module<a class="headerlink" href="#module-Handlers.ParentHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.ParentHandler.ParentHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.ParentHandler.</code><code class="sig-name descname">ParentHandler</code><a class="headerlink" href="#Handlers.ParentHandler.ParentHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt id="Handlers.ParentHandler.ParentHandler.toIsoFormat">
<code class="sig-name descname">toIsoFormat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ParentHandler.ParentHandler.toIsoFormat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ParentHandler.ParentHandler.verifyIDString">
<code class="sig-name descname">verifyIDString</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ParentHandler.ParentHandler.verifyIDString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ParentHandler.ParentHandler.verifyInnerDict">
<code class="sig-name descname">verifyInnerDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">innerDict</span></em>, <em class="sig-param"><span class="n">innerDictKeys</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ParentHandler.ParentHandler.verifyInnerDict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.RideStatsHandler">
<span id="handlers-ridestatshandler-module"></span><h2>Handlers.RideStatsHandler module<a class="headerlink" href="#module-Handlers.RideStatsHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.RideStatsHandler.RideStatsHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.RideStatsHandler.</code><code class="sig-name descname">RideStatsHandler</code><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.deleteRideStatsByArea">
<code class="sig-name descname">deleteRideStatsByArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.deleteRideStatsByArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.deleteRideStatsByDate">
<code class="sig-name descname">deleteRideStatsByDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.deleteRideStatsByDate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.getStatsForDate">
<code class="sig-name descname">getStatsForDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.getStatsForDate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.getTotalActiveVehicles">
<code class="sig-name descname">getTotalActiveVehicles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.getTotalActiveVehicles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.getTotalNumberOfRides">
<code class="sig-name descname">getTotalNumberOfRides</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.getTotalNumberOfRides" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.getTotalRevenue">
<code class="sig-name descname">getTotalRevenue</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.getTotalRevenue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.insertStats">
<code class="sig-name descname">insertStats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.insertStats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RideStatsHandler.RideStatsHandler.setSAHandler">
<code class="sig-name descname">setSAHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">saHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RideStatsHandler.RideStatsHandler.setSAHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.RidesHandler">
<span id="handlers-rideshandler-module"></span><h2>Handlers.RidesHandler module<a class="headerlink" href="#module-Handlers.RidesHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.RidesHandler.RidesHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.RidesHandler.</code><code class="sig-name descname">RidesHandler</code><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.areCoordsInsideNest">
<code class="sig-name descname">areCoordsInsideNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nest_coords</span></em>, <em class="sig-param"><span class="n">radius</span></em>, <em class="sig-param"><span class="n">compare_coords</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.areCoordsInsideNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to that verifies if some coordinates area insides the area of a provided nest
:param nest_coords: coordinates of nest to verify if rides area inside this nest
:param radius: radius of nest
:param compare_coords: coordinates of a ride
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.calculateRideCost">
<code class="sig-name descname">calculateRideCost</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ride_cost</span></em>, <em class="sig-param"><span class="n">minute_rate</span></em>, <em class="sig-param"><span class="n">ride_duration</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.calculateRideCost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.degreesToRadians">
<code class="sig-name descname">degreesToRadians</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">degrees</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.degreesToRadians" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.deleteRidesByDate">
<code class="sig-name descname">deleteRidesByDate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.deleteRidesByDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete rides on a certain date
:param date: date to delete rides from
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.deleteRidesByServiceArea">
<code class="sig-name descname">deleteRidesByServiceArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.deleteRidesByServiceArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to delete rides on a certain date
:param date: date to delete rides from
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.extern_getRidesForDateIntervalAndArea">
<code class="sig-name descname">extern_getRidesForDateIntervalAndArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date_greaterT</span></em>, <em class="sig-param"><span class="n">date_lessT</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.extern_getRidesForDateIntervalAndArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.extern_getRidesForTimeInterval">
<code class="sig-name descname">extern_getRidesForTimeInterval</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">start_time</span></em>, <em class="sig-param"><span class="n">end_time</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.extern_getRidesForTimeInterval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.getRidesCoordsForDateAndArea">
<code class="sig-name descname">getRidesCoordsForDateAndArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.getRidesCoordsForDateAndArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get coordinates of rides of a specified date and area
:param date: date from which to get rides
:param areaid: ID of area from which to get rides
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.getRidesForDateAndArea">
<code class="sig-name descname">getRidesForDateAndArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.getRidesForDateAndArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get rides for a specified date and area
:param date: date from which to get rides
:param areaid: ID of area from which to get rides
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.getRidesForTimeIntervalAndArea">
<code class="sig-name descname">getRidesForTimeIntervalAndArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">time_gt</span></em>, <em class="sig-param"><span class="n">time_lt</span></em>, <em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.getRidesForTimeIntervalAndArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Get rides for a specified time interval
:param time_gt: lower threshold for the time interval
:param time_lt: upper threshold for the time interval
:param areaid: ID of area rides belong to
:return: array of rides that meet the provided criteria</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.getRidesStartingAtNest">
<code class="sig-name descname">getRidesStartingAtNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em>, <em class="sig-param"><span class="n">date</span></em>, <em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">start</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.getRidesStartingAtNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Get rides that start at a provided nest
:param nestid: ID of nest to get coordinates from and verify if nest are within that area
:param date: date where to get rides from
:param areaid: ID of area fromn wich to get rides from
:param start: a boolean parameter that specifies if you want rides that start (True) or end (False)</p>
<blockquote>
<div><p>in the specified Nest area</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><p>Response object with 400 status code: if there is an error in the request such as an incorrect ID format,
or incorrect date format</p>
<p>Response object with 404 status code: if there area no areas, nests or rides found for the parameters
specified, a 404 (NOT FOUND) status code will be issued in the response object.</p>
<p>Response object with 500 status code: if there was an error in the server</p>
<p>** The previously mentionederror codes will return a JSON with the format:
{</p>
<blockquote>
<div><p>”Error”: error information string</p>
</div></blockquote>
<p>}</p>
<p>Response object with 200 status code : if the request was successul a response ibject with the requested
information and 200 status code will be issued. Format of JSON response:
{</p>
<blockquote>
<div><p>”ok”:[{ride1}, {ride2}, …… ]</p>
</div></blockquote>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.insertRides">
<code class="sig-name descname">insertRides</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">area</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.insertRides" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert rides in the database from a passed FileObject. This type of object is the returned file
from flask’s library to retreive files from http calls. It can be read just like any other file, though it is
not saved in the disk as a file. In the case the file is too large a tmporary file is created. but that does
not affect the functionality of this function.</p>
<dl class="simple">
<dt>file has to have the column headers: [“bird_id”, “dt”, “start_time”, “end_time”, “ride_cost”, “start_long”,</dt><dd><p>“start_lat”,”end_lat”, “end_long”]</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – FileObject containing the csv file passed</p></li>
<li><p><strong>area</strong> – ID of area where rides belong</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>Will return a response with a status code 400, 500, or 201</p>
<p>if the file does not have the necessary fields of headers, if date is in incorrect format, a response with
error code 400 will be issued as well as well as a json with the format:
{</p>
<blockquote>
<div><p>”Error”: error information string</p>
</div></blockquote>
<p>}</p>
<p>if data has the correct format, a reposne with the status code 201 will be returned as well as a json with
the format:
{</p>
<blockquote>
<div><p>”ok”:{
“inserted”:[array with ids of inserted rides]
“rejected”:number of rejected rides (in the case there were duplicates)
“stats”:[array with ids of inserted stats for each day]
}</p>
</div></blockquote>
<p>}</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.setNestHandler">
<code class="sig-name descname">setNestHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestsHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.setNestHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.setRideStatsHandler">
<code class="sig-name descname">setRideStatsHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">rideStats</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.setRideStatsHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.setServiceAreaHandler">
<code class="sig-name descname">setServiceAreaHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">serviceArea</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.setServiceAreaHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.startAtNest">
<code class="sig-name descname">startAtNest</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestid</span></em>, <em class="sig-param"><span class="n">rides</span></em>, <em class="sig-param"><span class="n">start</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.startAtNest" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to return which rides start at a specified nest
:param nestid:  ID of nest of nest to get coordinates from
:param rides: Rides to go through and see if are inside a specific nest
:param start: BOOLEAN, tells if coordinates are starting or ending coordinates
:return: rides that started at provided nest</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.RidesHandler.RidesHandler.testCSV">
<code class="sig-name descname">testCSV</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.RidesHandler.RidesHandler.testCSV" title="Permalink to this definition">¶</a></dt>
<dd><p>Test function for csv files
:param file:
:return:</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers.ServiceAreaHandler">
<span id="handlers-serviceareahandler-module"></span><h2>Handlers.ServiceAreaHandler module<a class="headerlink" href="#module-Handlers.ServiceAreaHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.ServiceAreaHandler.</code><code class="sig-name descname">ServiceAreaHandler</code><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.deleteServiceArea">
<code class="sig-name descname">deleteServiceArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.deleteServiceArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function To delete a Service area name
:param areaid: Id of area to edit</p>
<blockquote>
<div><dl class="field-list">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p>response object with status code 400: if area id does not follow the established format
response object with status code 404: if there is no area with established area id
response object with status code 500: if there was an error in the server</p>
<p>** for any of the previously mentioned error codes, a json with error information will also be returned
with the format:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Error”: “error information string”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>response object with status code 200: if json is valid, response will be a doctionary holding the quantity
of documents deleted, of the format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“deleted_weather”: weather,
“deleted_buildings”: buildings,
“deleted_street”: street,
“deleted_amenities”: amenities,
“deleted_rides”: rides,
“deleted_nests”: nests,
“deleted_drop”: drop,
“deleted_predictions”: predictions,
“deleted_area”: area</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.editServiceAreaName">
<code class="sig-name descname">editServiceAreaName</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.editServiceAreaName" title="Permalink to this definition">¶</a></dt>
<dd><p>Function To edit a Service area name
:param areaid: Id of area to edit
:param name: name to update area with</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">return</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getAllServiceAreas">
<code class="sig-name descname">getAllServiceAreas</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getAllServiceAreas" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get all service areas in the database
:return:
response with status code 500: Signals an error on the server</p>
<p>response with status code 404: Status code due to there not being any service areas in the system. Response
will have the format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
<dl class="simple">
<dt>response with status code 200: Status code acknowledges request was successful. Response from database</dt><dd><p>will contain all service areas, and will have the format:</p>
</dd>
</dl>
<dl>
<dt>[</dt><dd><blockquote>
<div><dl>
<dt>{   “_id”: id of service area,</dt><dd><p>“area_name”: name of service area,
“coords”: {</p>
<blockquote>
<div><dl>
<dt>“coordinates”: [</dt><dd><dl class="simple">
<dt>[</dt><dd><p>-67.152729,
18.2176116</p>
</dd>
</dl>
<p>.</p>
</dd>
</dl>
<p>],
“type”: “LineString” }</p>
</div></blockquote>
<dl class="simple">
<dt>},</dt><dd><p>.</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getAmenities">
<code class="sig-name descname">getAmenities</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getAmenities" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that can be accessed by external classes to get amenitites information for a specified area ID.
Will return information straight from the database.
:param areaid: ID of area of interest
:return: dictionary containing the format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>“id”: id of amenities entry
“timestamp”: time stamp of when the amenities information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this amenities information belongs to
“_id”: ID of service area this amenities information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the amenities is stored</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getAmenitiesOfArea">
<code class="sig-name descname">getAmenitiesOfArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getAmenitiesOfArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getBuildings">
<code class="sig-name descname">getBuildings</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getBuildings" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that can be accessed by external classes to get buildings information for a specified area ID.
Will return information straight from the database.
:param areaid: ID of area from which to get building information
:return: dictionary containing the format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>“id”: id of building entry
“timestamp”: time stamp of when the buildings information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this buildings information belongs to
“_id”: ID of service area this buildings information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the buildings is stored</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getBuildingsOfArea">
<code class="sig-name descname">getBuildingsOfArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getBuildingsOfArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getSArea">
<code class="sig-name descname">getSArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getSArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that can be accessed by external classes to get service area information for a specified area ID.
Will return information straight from the database.
:param areaid: ID of area of interest
:param name: name of the area of interest
:return: Service area information</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getServiceArea">
<code class="sig-name descname">getServiceArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getServiceArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to Get a Specific Service Area from the database using the document id as an identifier. Will perform
validation for id to verify it is not empty and it has the correct length. Will also verify id belongs to an
actual service area in the database.
:param areaid: ID of the database document holding the service area information.
:return: response with status code 404: Response code due to the document id not existing on the service area</p>
<blockquote>
<div><blockquote>
<div><p>collection in the database. Response will have the format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<dl>
<dt>response with status code 400: Response code due to the id passed as a parameter not being valid. Response</dt><dd><p>will have the same format as the 404 response explained above.</p>
</dd>
<dt>response with status code 200: Response code acknowledges request was successful. Response will have the</dt><dd><dl>
<dt>format:</dt><dd><dl>
<dt>{</dt><dd><p>“_id”: id of service area,
“area_name”: name of service area,
“coords”: {</p>
<blockquote>
<div><dl class="simple">
<dt>“coordinates”: [</dt><dd><p>coordinates of service area
],</p>
</dd>
</dl>
</div></blockquote>
<p>“type”: (optional) type of polygon coordinates</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd>
</dl>
<p>response with status code 500: Response code signifies there was an error in the server while processing
the request.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getStreets">
<code class="sig-name descname">getStreets</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getStreets" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that can be accessed by external classes to get streets information for a specified area ID.
Will return information straight from the database.
:param areaid: ID of area of interest
:return: dictionary containing the format:</p>
<blockquote>
<div><dl>
<dt>{</dt><dd><p>“id”: id of street entry
“timestamp”: time stamp of when the street information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this street information belongs to
“_id”: ID of service area this street information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the streets is stored</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getStreetsOfArea">
<code class="sig-name descname">getStreetsOfArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getStreetsOfArea" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getWeather">
<code class="sig-name descname">getWeather</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getWeather" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that can be accessed by external classes to get weather information for a specified area ID and date.
Will return information straight from the database.
:param areaid: id of area of interest
:param timestamp: date of weather information
:return: Dictionary of weather data:
{   “precipitation”: precipitation for area,</p>
<blockquote>
<div><blockquote>
<div><p>“temperature”: temperature for area,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area,
“_id”: id of service area</p>
</div></blockquote>
<p>},
“timestamp”: the date this information belongs to</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.getWeatherForDay">
<code class="sig-name descname">getWeatherForDay</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">areaid</span></em>, <em class="sig-param"><span class="n">timestamp</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.getWeatherForDay" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get Weather information for a specified day on a specified area. Weather information is collected
whenever a new prediction is made, and stored in the database, therefore, availability is subject to the
creation of a prediction or the upload of new data for a day.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>areaid</strong> – ID of the service area of interest</p></li>
<li><p><strong>timestamp</strong> – timestamp of the day to get the weather from</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<dl>
<dt>response with status code 404: Response code due to the document id not existing on the service area</dt><dd><p>collection in the database. Response will have the format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
</dd>
<dt>response with status code 400: Response code due to the id passed as a parameter not being valid or the</dt><dd><p>timestamp having an erroneous format. Response will have the same format as the 404 response
explained above.</p>
<dl>
<dt>response with status code 200: Response code acknowledges request was successful. Response will have the</dt><dd><p>format:
{   “precipitation”: 36.827,</p>
<blockquote>
<div><p>“temperature”: 9.1968,
“service_area”: {</p>
<blockquote>
<div><p>“name”: “Mayaguez”,
“_id”: “5f91c682bc71a04fda4b9dc6”</p>
</div></blockquote>
<p>},
“timestamp”: “2013-09-14T08:00:00.000000”</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
</dd>
<dt>response with status code 404: Response code signifies there was not found an entry with specified areaid</dt><dd><p>or with the specified timestamp.</p>
</dd>
<dt>response with status code 500: Response code signifies there was an error in the server while processing</dt><dd><p>the request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.insertAmenitiesData">
<code class="sig-name descname">insertAmenitiesData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.insertAmenitiesData" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert amenities data. Amenities data is collected when a new service area is inserted in the system.
This function will validate the json passed as a parameter has the correct  fields and field types, also,
if there already exists amenities data for the proposed area. Json should have the format:</p>
<dl>
<dt>{</dt><dd><p>“id”: id of amenities entry
“timestamp”: time stamp of when the amenities information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this amenities information belongs to
“_id”: ID of service area this amenities information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the amenities is stored</p>
</dd>
</dl>
<p>}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – weather data to insert in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>if json to insert is not valid (incorrect fields, types or duplicated information, or error in server),
function will return an error dictionary of the format</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Error”: “error information string”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.insertBuildingsData">
<code class="sig-name descname">insertBuildingsData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.insertBuildingsData" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert buildings data. This data is collected when a new service area is inserted in the system.
This function will validate the json passed as a parameter has the correct  fields and field types, also,
if there already exists buildings data for the proposed area. Json should have the format:</p>
<dl>
<dt>{</dt><dd><p>“id”: id of buildings entry
“timestamp”: time stamp of when the buildings information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this buildings information belongs to
“_id”: ID of service area this buildings information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the buildings is stored</p>
</dd>
</dl>
<p>}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – buildings data in json format to insert in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>if json to insert is not valid (incorrect fields, types or duplicated information, or error in server),
function will return an error dictionary of the format</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Error”: “error information string”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.insertServiceArea">
<code class="sig-name descname">insertServiceArea</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sa_json</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.insertServiceArea" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert a service area in the database. Will validate JSON parameter corresponding to the request body of
the API route /nestmatics/areas. Validation will make sure request.json has the required keys and also that
the value of keys are of the correct type. If values are not expected, if keys are missing, if there
is already a service area with the same name, if there are less than 4 coordinates, 4xx client errors will
be issued. If request is accepted, the json parameter with the new service area information will be inserted
in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sa_json</strong> – json containing the service area information to be inserted into the database</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>ID of newly inserted service area</p>
</dd>
</dl>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.insertStreetData">
<code class="sig-name descname">insertStreetData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.insertStreetData" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert streets data. This data is collected when a new service area is inserted in the system.
This function will validate the json passed as a parameter has the correct  fields and field types, also,
if there already exists buildings data for the proposed area. Json should have the format:</p>
<dl>
<dt>{</dt><dd><p>“id”: id of streets entry
“timestamp”: time stamp of when the streets information was inserted in DB,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area this streets information belongs to
“_id”: ID of service area this streets information belongs to
},</p>
</div></blockquote>
<p>“bitmap_file”: file where bitmap of the streets is stored</p>
</dd>
</dl>
<p>}</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – streets data in json format to insert in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>if json to insert is not valid (incorrect fields, types or duplicated information, or error in server),
function will return an error dictionary of the format</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Error”: “error information string”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.insertWeatherData">
<code class="sig-name descname">insertWeatherData</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.insertWeatherData" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert weather data. Weather information is collected whenever a new prediction is made,
and stored in the database if it follows the correct format. This function will validate the json passed as a
parameter has the correct  fields and field types, also, if there already exists weahter data for the proposed
day. Json should have the format:</p>
<dl>
<dt>{   “precipitation”: precipitation for area,</dt><dd><blockquote>
<div><p>“temperature”: temperature for area,
“service_area”: {</p>
<blockquote>
<div><p>“name”: name of service area,
“_id”: id of service area</p>
</div></blockquote>
<p>},
“timestamp”: the date this information belongs to</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – weather data to insert in the database.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
</dl>
<p>if json to insert is not valid (incorrect fields, types or duplicated information, or error in server),
function will return an error dictionary of the format</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“Error”: “error information string”</p>
</dd>
</dl>
<p>}</p>
</div></blockquote>
<dl>
<dt>if json is valid, response will be of the format:</dt><dd><dl>
<dt>{</dt><dd><dl class="simple">
<dt>“ok”:{</dt><dd><p>“id”: id of inserted document</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.setDropsHandler">
<code class="sig-name descname">setDropsHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dropHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.setDropsHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.setModelHandler">
<code class="sig-name descname">setModelHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">modelHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.setModelHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.setNestHandler">
<code class="sig-name descname">setNestHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.setNestHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.setRidesHandler">
<code class="sig-name descname">setRidesHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ridesHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.setRidesHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.ServiceAreaHandler.ServiceAreaHandler.verifySAPropertiesKeys">
<code class="sig-name descname">verifySAPropertiesKeys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.ServiceAreaHandler.ServiceAreaHandler.verifySAPropertiesKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt id="Handlers.ServiceAreaHandler.random">
<code class="sig-prename descclassname">Handlers.ServiceAreaHandler.</code><code class="sig-name descname">random</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; x in the interval [0, 1).<a class="headerlink" href="#Handlers.ServiceAreaHandler.random" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-Handlers.UsersHandler">
<span id="handlers-usershandler-module"></span><h2>Handlers.UsersHandler module<a class="headerlink" href="#module-Handlers.UsersHandler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="Handlers.UsersHandler.UsersHandler">
<em class="property">class </em><code class="sig-prename descclassname">Handlers.UsersHandler.</code><code class="sig-name descname">UsersHandler</code><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#Handlers.ParentHandler.ParentHandler" title="Handlers.ParentHandler.ParentHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Handlers.ParentHandler.ParentHandler</span></code></a></p>
<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.deleteUser">
<code class="sig-name descname">deleteUser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">userid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.deleteUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a specified user from the database. User to be deleted is identified by the userid passed as a
parameter.
:param userid: ID of the user to delete
:return:</p>
<blockquote>
<div><dl>
<dt>response with status code 201: successful insertion of new user into system. Will return an HTTP response</dt><dd><p>with the format:
{ “ok”:</p>
<blockquote>
<div><p>{ “deleted”: number_of_documents_deleted  }</p>
</div></blockquote>
<p>}</p>
</dd>
</dl>
<p>response with status code 400: User Id in incorrect format.
response with status code 500: error in server.
response with status code 404: No user with specified ID, no user was found to delete.
Response for codes 400,404,500 will have format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.getAllUsers">
<code class="sig-name descname">getAllUsers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.getAllUsers" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get all users in the database.
:return:</p>
<blockquote>
<div><dl>
<dt>response with status code 404: Status code due to there not being any users in the system. Response</dt><dd><p>will have the format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
</dd>
<dt>response with status code 200: Status code acknowledges request was successful. Response will have the</dt><dd><p>format:
[</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“_id”: document_id,
“email”: user_email,
“type”: user_type</p>
</dd>
</dl>
<p>},
{</p>
<blockquote>
<div><p>“_id”: document_id,
“email”: user_email,
“type”: user_type</p>
</div></blockquote>
<p>},
.
.
.</p>
</div></blockquote>
<p>]</p>
</dd>
</dl>
<p>response with status code 500: Response code signifies there was an error in the server while processing
the request.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.getUser">
<code class="sig-name descname">getUser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">userid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.getUser" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to Get a Specific User from the database using the document id as an identifier. Will perform
validation for id to verify it is not empty and it has the correct length. Will also verify id belongs to an
actual user in the database.
:param userid: ID of the database document holding the user information.
:return: response with status code 404: Response code due to the document id not existing on the user</p>
<blockquote>
<div><blockquote>
<div><p>collection in the database. Response will have the format:
{</p>
<blockquote>
<div><p>“Error”: “error information string”</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<dl>
<dt>response with status code 400: Response code due to the id passed as a parameter not being valid. Response</dt><dd><p>will have the same format as the 404 response explained above.</p>
</dd>
<dt>response with status code 200: Response code acknowledges request was successful. Response will have the</dt><dd><dl>
<dt>format:</dt><dd><dl class="simple">
<dt>{</dt><dd><p>“_id”: document_id,
“email”: user_email,
“type”: user_type</p>
</dd>
</dl>
<p>}</p>
</dd>
</dl>
</dd>
</dl>
<p>response with status code 500: Response code signifies there was an error in the server while processing
the request.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.getUserByEmail">
<code class="sig-name descname">getUserByEmail</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">email</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.getUserByEmail" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to get user a unique user from the database by their email
:param email: email of desired user
:return:</p>
</dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.getUserExternal">
<code class="sig-name descname">getUserExternal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">userid</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.getUserExternal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.insertuser">
<code class="sig-name descname">insertuser</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">user</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.insertuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to insert Users in the database. Will validate JSON parameter corresponding to the request body of
the API route /nestmatics/users. Validation will make sure request.json has the required keys and also that
the value of keys are of the correct type. If values are not expected, if keys are missing, if user is already
registered, if values of “email” key or “type” key are not valid, 4xx client errors will be issued. If request
is accepted, the json parameter will the user information will be inserted in the database
:param user: json object with new user information. Should have the format:</p>
<blockquote>
<div><dl class="simple">
<dt>{</dt><dd><p>“email”:”<a class="reference external" href="mailto:user_email&#37;&#52;&#48;domain&#46;com">user_email<span>&#64;</span>domain<span>&#46;</span>com</a>”,
“type”:”user_type”</p>
</dd>
</dl>
<p>}
** domain should be either gmail or skootel
** user_type should be either “user” or “admin”</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl>
<dt>response with status code 400: missing fields, incorrect value type, incorrect email domain,</dt><dd><p>incorrect user_type value.</p>
</dd>
<dt>response with status code 201: successful insertion of new user into system. Will return an HTTP response</dt><dd><p>with the format:
{ “ok”:</p>
<blockquote>
<div><p>{ “_id”: id_Number  }</p>
</div></blockquote>
<p>}
** id_Number refers to the db id for the newly inserted field</p>
</dd>
</dl>
<p>response with status code 500: error in server
response with status code 403: request was ok but user is already registered in system</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="Handlers.UsersHandler.UsersHandler.setNestHandler">
<code class="sig-name descname">setNestHandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nestsHandler</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Handlers.UsersHandler.UsersHandler.setNestHandler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-Handlers">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-Handlers" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Sofia Saavedra

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>